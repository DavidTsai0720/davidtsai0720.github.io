<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TP Research</title>
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
<link rel="stylesheet" href="static/css/bootstrap.min.css">
<script src="static/javascript/xlsx.core.min.js"></script>
<script src="static/javascript/tools.js"></script>
<script src="static/javascript/params.js"></script>
<script src="static/javascript/helperHandleFile.js"></script>
<script src="static/javascript/handleInstruction.js"></script>
<script src="static/javascript/handleFile.js"></script>
<script src="static/javascript/handleSelect.js"></script>
<script src="static/javascript/handleMethod.js"></script>
<script>
    const select = Select.main;
    const funcMap = new Map([
        ["main-methods", select],
        ["exclude", select],
        ["select-action", select],
        ["remove-all", select],
        ["recovery-all", select],
        ["exclude-data", select],
        ["integrity-check", select],
        ["outlier", select],
        ["error-rate", select],
        ["error-time", select],
        ["correct", select],
        ["overall", select],
        ["details", select],
        ["more-details", select],
        ["error-rate", methods],
        ["error-time", methods],
        ["overall", methods],
        ["correct", methods],
        ["outlier", methods],
        ["integrity-check", methods],
        ["current-exclude", methods],
    ]);
    window.onload = function() {
        const mainMethods = document.querySelector("div[name=main-methods]");
        document.addEventListener("click", function(e) {
            const name = e.target.attributes.name.nodeValue;
            if ( name ) {
                Tools.removeActive(e);
                const func = funcMap.get(name);
                func(name, e);
            }
        });
    }
</script>
</head>
<body style="text-align:center">
    <div class="container">
        <div class="row h2" name="title">Welcome.</div>
        <div class="row">
            <div class="btn btn-outline-primary col-4">
                select an excel
                <input type="file" style="opacity: 0.0; position: absolute; top: 0; left: 0; bottom: 0; right: 0; width: 100%; height:100%;" onchange="handleFiles(this.files)" />
            </div>
            <div class="btn btn-outline-primary col-4" name="main-methods">main methods</div>
            <div class="btn btn-outline-primary col-4" onclick="handleInstruction()">instruction</div>
        </div>
        <br>
        <div class="row" name="hint"></div>
        <div class="row" name="main-table">
            <div class="list-group col-3" name="left-bar"></div>
            <div class="col-9" name="sub-results"></div>
        </div>
    </div>
</body>
</html>
